% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/innovation_generators.R
\name{make_gen_hetero}
\alias{make_gen_hetero}
\title{Create a Heteroscedastic Normal Innovation Generator}
\usage{
make_gen_hetero(w = NULL, sd = 1)
}
\arguments{
\item{w}{Weight specification. One of:
\itemize{
\item \code{NULL} (default): Use linear weights \code{1, 2, ..., n}
(variance increases linearly with time)
\item A function: Called as \code{w(n)} to generate n weights
\item A numeric vector: Used directly; must have length >= n when
generator is called
}}

\item{sd}{Base standard deviation before weighting. Default is 1.}
}
\value{
A function with signature \code{function(n)} that generates
\code{n} heteroscedastic normal innovations.
}
\description{
Factory function that returns an innovation generator with time-varying
variance. Innovations are scaled by weights w, allowing for patterns like
increasing variance, periodic variance, or custom heteroscedasticity.
}
\details{
The generator produces: \code{w[1:n] * rnorm(n, 0, sd)}

Common weight patterns:
\itemize{
\item Linear: \code{w = NULL} or \code{w = function(n) seq_len(n)}
\item Sqrt: \code{w = function(n) sqrt(seq_len(n))}
\item Exponential: \code{w = function(n) exp(seq_len(n) / n)}
\item Periodic: \code{w = function(n) 1 + 0.5 * sin(2 * pi * seq_len(n) / 12)}
}
}
\examples{
# Default linear increasing variance
hetero_gen <- make_gen_hetero()
innovations <- hetero_gen(100)
plot(innovations, type = "l")

# Custom weight function (sqrt growth)
hetero_sqrt <- make_gen_hetero(w = function(n) sqrt(seq_len(n)))

# Fixed weight vector
weights <- c(rep(1, 50), rep(3, 50))  # Jump in variance
hetero_jump <- make_gen_hetero(w = weights)
}
