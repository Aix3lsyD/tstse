% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/duckdb_utils.R
\name{boot_db_write_batch}
\alias{boot_db_write_batch}
\title{Write Batch of Bootstrap Results to Database}
\usage{
boot_db_write_batch(
  con,
  results,
  trial_id,
  start_iteration = 1L,
  store_boot_dist = TRUE
)
}
\arguments{
\item{con}{A DBI connection from \code{\link[=boot_db_connect]{boot_db_connect()}}.}

\item{results}{A list of bootstrap result objects.}

\item{trial_id}{Character. Trial ID from \code{\link[=boot_db_trial]{boot_db_trial()}}.}

\item{start_iteration}{Integer. Starting iteration number. Default 1.}

\item{store_boot_dist}{Logical. If FALSE, skip storing boot_dist array
for faster writes when only p-values are needed. Default TRUE.}
}
\value{
A character vector of run_ids (one per result).
}
\description{
Efficiently stores multiple bootstrap results in a single transaction.
Much faster than calling \code{\link[=boot_db_write]{boot_db_write()}} in a loop.
}
\details{
This function is optimized for batch writes, which is critical for
simulation studies. DuckDB is optimized for columnar batch inserts,
making this significantly faster than per-iteration writes.
}
\examples{
\dontrun{
con <- boot_db_connect(":memory:")
boot_db_init(con)

study_id <- boot_db_study(con, "Test", "size")
dgp_id <- boot_db_dgp(con, n = 100, ar_phi = 0.7)
method_id <- boot_db_method(con, "wbg_boot_fast", nb = 99)
trial_id <- boot_db_trial(con, study_id, dgp_id, method_id, n_planned = 100)

# Run simulations and collect results
results <- lapply(1:100, function(i) {
  x <- gen_arma(100, phi = 0.7, plot = FALSE)
  wbg_boot_fast(x, nb = 99, seed = i)
})

run_ids <- boot_db_write_batch(con, results, trial_id)
boot_db_trial_complete(con, trial_id)
}

}
\seealso{
\code{\link[=boot_db_write]{boot_db_write()}}
}
