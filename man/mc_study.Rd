% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/duckdb_utils.R
\name{mc_study}
\alias{mc_study}
\title{Create a Monte Carlo Study Session}
\usage{
mc_study(path, label = NULL)
}
\arguments{
\item{path}{Character. Path to the DuckDB database file.}

\item{label}{Character. Optional label for this batch (e.g., "t(3) n=50 run 2").}
}
\value{
An \code{mc_study} object (list) with methods:
\describe{
\item{\verb{$save_batch(results, n, phi, innov_dist)}}{Save a list of wbg_boot_fast results}
\item{\verb{$query(...)}}{Query simulations with optional filters}
\item{\verb{$rejection_rates(...)}}{Get rejection rates (pooled or by_batch)}
\item{\verb{$end()}}{Close the database connection}
\item{\verb{$info}}{List with path, batch_id, label}
}
}
\description{
Opens a database connection, creates a new batch, and returns a closure
with methods for saving results and querying data.
}
\examples{
\dontrun{
study <- mc_study("capstone.duckdb", label = "t(3) n=50 phi=0.8")
on.exit(study$end())

results <- lapply(1:1000, function(i) {
  x <- gen_arma(50, phi = 0.8, plot = FALSE)
  wbg_boot_fast(x, nb = 399, seed = i)
})
study$save_batch(results, n = 50, phi = 0.8, innov_dist = "t(3)")
study$rejection_rates()
study$end()
}

}
\seealso{
\code{\link[=mc_db_connect]{mc_db_connect()}}, \code{\link[=mc_db_write_batch]{mc_db_write_batch()}}
}
