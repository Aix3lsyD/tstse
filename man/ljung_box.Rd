% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ljung_box.R
\name{ljung_box}
\alias{ljung_box}
\title{Ljung-Box Test}
\usage{
ljung_box(x, K = 24L, p = 0L, q = 0L)
}
\arguments{
\item{x}{Numeric vector, the time series (or residuals).}

\item{K}{Integer, maximum lag to test (default 24).}

\item{p}{Integer, AR order of fitted model (default 0).}

\item{q}{Integer, MA order of fitted model (default 0).}
}
\value{
A list with components:
\item{test}{Name of the test}
\item{K}{Maximum lag tested}
\item{chi_square}{Test statistic}
\item{df}{Degrees of freedom (K - p - q)}
\item{pval}{p-value}
}
\description{
Perform the Ljung-Box portmanteau test for autocorrelation.
}
\details{
The test statistic is:
\deqn{Q = n(n+2) \sum_{k=1}^{K} \frac{\hat{\rho}_k^2}{n-k}}
which is compared to a chi-squared distribution with K - p - q degrees of freedom.

When testing residuals from an ARMA(p,q) model, specify p and q to adjust
the degrees of freedom.
}
\examples{
# Test white noise
set.seed(123)
x <- rnorm(200)
ljung_box(x)

# Test residuals from AR(2) fit
y <- arima.sim(list(ar = c(0.5, -0.3)), n = 200)
fit <- arima(y, order = c(2, 0, 0))
ljung_box(residuals(fit), K = 24, p = 2, q = 0)
}
