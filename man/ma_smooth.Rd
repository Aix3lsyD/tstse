% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ma_smooth.R
\name{ma_smooth}
\alias{ma_smooth}
\title{Centered Moving Average Smoothing}
\usage{
ma_smooth(x, order = 3L, plot = TRUE)
}
\arguments{
\item{x}{Numeric vector, the time series.}

\item{order}{Integer, the moving average window size (default 3).}

\item{plot}{Logical, whether to plot original and smoothed series (default TRUE).}
}
\value{
A list with components:
\item{x}{The original time series}
\item{smooth}{Smoothed values (same length as x, with NAs at ends)}
\item{order}{The moving average order used}
}
\description{
Apply a centered moving average smoother to a time series.
}
\details{
Computes a centered moving average where each smoothed value at time t
is the average of observations centered around t.

For odd orders, a simple centered average is used.

For even orders, a weighted average is used where the endpoints receive
half weight. This is equivalent to a 2x\code{order} centered MA, commonly used
for seasonal adjustment (e.g., 2x12 MA for monthly data).

The first and last \code{floor(order/2)} values are NA since a full centered
window is not available.
}
\examples{
# Smooth a noisy sine wave
t <- seq(0, 4 * pi, length.out = 200)
x <- sin(t) + rnorm(200, sd = 0.3)
result <- ma_smooth(x, order = 11, plot = FALSE)

# Compare original and smoothed
plot(x, type = "l", col = "gray")
lines(result$smooth, col = "blue", lwd = 2)

}
